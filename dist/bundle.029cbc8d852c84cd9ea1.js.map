{"version":3,"sources":["webpack:///./node_modules/@dogstudio/highway/build/highway.module.js"],"names":["t","prototype","on","e","r","i","this","push","fn","ctx","once","n","off","apply","arguments","_","emit","slice","call","length","o","s","TinyEmitter","wrap","document","querySelector","properties","Transition","transition","class","name","setup","onEnter","onEnterCompleted","add","insertAdjacentHTML","view","outerHTML","update","title","page","show","Promise","resolve","then","reject","hide","onLeaveCompleted","onLeave","window","DOMParser","renderers","transitions","getOrigin","match","replace","getPathname","getAnchor","getParams","split","getDOM","parseFromString","getView","getSlug","getAttribute","getRenderer","isPrototypeOf","default","getTransition","getProperties","slug","renderer","getLocation","href","anchor","origin","params","pathname","Helpers","Transitions","Contextual","location","cloneNode","popping","running","trigger","cache","Map","set","From","_navigate","navigate","bind","addEventListener","popState","links","querySelectorAll","attach","__proto__","Object","create","constructor","detach","removeEventListener","metaKey","ctrlKey","preventDefault","currentTarget","hasAttribute","dataset","redirect","contextual","beforeFetch","pushState","history","fetch","mode","method","headers","credentials","status","text","afterFetch","from","has","get","all","To","to","lastElementChild","firstElementChild","setAttribute","removeAttribute","in","done","out","console","log"],"mappings":"mBAAA,SAASA,KAAKA,EAAEC,UAAU,CAACC,GAAG,SAASF,EAAEG,EAAEC,GAAG,IAAIC,EAAEC,KAAKH,IAAIG,KAAKH,EAAE,IAAI,OAAOE,EAAEL,KAAKK,EAAEL,GAAG,KAAKO,KAAK,CAACC,GAAGL,EAAEM,IAAIL,IAAIE,MAAMI,KAAK,SAASV,EAAEG,EAAEC,GAAG,IAAIC,EAAEC,KAAK,SAASK,IAAIN,EAAEO,IAAIZ,EAAEW,GAAGR,EAAEU,MAAMT,EAAEU,WAAW,OAAOH,EAAEI,EAAEZ,EAAEG,KAAKJ,GAAGF,EAAEW,EAAEP,IAAIY,KAAK,SAAShB,GAAG,IAAI,IAAIG,EAAE,GAAGc,MAAMC,KAAKJ,UAAU,GAAGV,IAAIE,KAAKH,IAAIG,KAAKH,EAAE,KAAKH,IAAI,IAAIiB,QAAQZ,EAAE,EAAEM,EAAEP,EAAEe,OAAOd,EAAEM,EAAEN,IAAID,EAAEC,GAAGG,GAAGK,MAAMT,EAAEC,GAAGI,IAAIN,GAAG,OAAOG,MAAMM,IAAI,SAASZ,EAAEG,GAAG,IAAIC,EAAEE,KAAKH,IAAIG,KAAKH,EAAE,IAAIE,EAAED,EAAEJ,GAAGW,EAAE,GAAG,GAAGN,GAAGF,EAAE,IAAI,IAAIiB,EAAE,EAAEC,EAAEhB,EAAEc,OAAOC,EAAEC,EAAED,IAAIf,EAAEe,GAAGZ,KAAKL,GAAGE,EAAEe,GAAGZ,GAAGO,IAAIZ,GAAGQ,EAAEJ,KAAKF,EAAEe,IAAI,OAAOT,EAAEQ,OAAOf,EAAEJ,GAAGW,SAASP,EAAEJ,GAAGM,OAAO,IAAIH,EAAEH,EAAEG,EAAEmB,YAAYtB,EAAE,IAAII,EAAE,SAASJ,GAAGM,KAAKiB,KAAKC,SAASC,cAAc,yBAAyBnB,KAAKoB,WAAW1B,EAAEM,KAAKqB,WAAW3B,EAAE4B,WAAW,IAAI5B,EAAE4B,WAAWC,MAAMvB,KAAKiB,KAAKvB,EAAE4B,WAAWE,MAAM,MAAM1B,EAAEH,UAAU8B,MAAM,WAAWzB,KAAK0B,SAAS1B,KAAK0B,UAAU1B,KAAK2B,kBAAkB3B,KAAK2B,oBAAoB7B,EAAEH,UAAUiC,IAAI,WAAW5B,KAAKiB,KAAKY,mBAAmB,YAAY7B,KAAKoB,WAAWU,KAAKC,YAAYjC,EAAEH,UAAUqC,OAAO,WAAWd,SAASe,MAAMjC,KAAKoB,WAAWc,KAAKD,OAAOnC,EAAEH,UAAUwC,KAAK,SAASzC,GAAG,IAAIG,EAAEG,KAAK,OAAO,IAAIoC,SAAQ,SAAStC,GAAG,IAAI,SAASC,EAAEL,GAAGG,EAAE8B,kBAAkB9B,EAAE8B,mBAAmB7B,IAAI,OAAOD,EAAEmC,SAASnC,EAAE6B,SAAS7B,EAAE6B,UAAUU,QAAQC,QAAQxC,EAAEwB,WAAWe,QAAQC,QAAQxC,EAAEwB,WAAWc,KAAKzC,IAAI4C,KAAKvC,GAAGA,KAAK,MAAML,GAAG,OAAO0C,QAAQG,OAAO7C,QAAOI,EAAEH,UAAU6C,KAAK,SAAS9C,GAAG,IAAIG,EAAEG,KAAK,OAAO,IAAIoC,SAAQ,SAAStC,GAAG,IAAI,SAASC,EAAEL,GAAGG,EAAE4C,kBAAkB5C,EAAE4C,mBAAmB3C,IAAI,OAAOD,EAAE6C,SAAS7C,EAAE6C,UAAUN,QAAQC,QAAQxC,EAAEwB,WAAWe,QAAQC,QAAQxC,EAAEwB,WAAWmB,KAAK9C,IAAI4C,KAAKvC,GAAGA,KAAK,MAAML,GAAG,OAAO0C,QAAQG,OAAO7C,QAAO,IAAIK,EAAE,IAAI4C,OAAOC,UAAUvC,EAAE,SAASX,EAAEG,GAAGG,KAAK6C,UAAUnD,EAAEM,KAAK8C,YAAYjD,GAAGQ,EAAEV,UAAUoD,UAAU,SAASrD,GAAG,IAAIG,EAAEH,EAAEsD,MAAM,yBAAyB,OAAOnD,EAAEA,EAAE,GAAGoD,QAAQ,cAAc,IAAI,MAAM5C,EAAEV,UAAUuD,YAAY,SAASxD,GAAG,IAAIG,EAAEH,EAAEsD,MAAM,gCAAgC,OAAOnD,EAAEA,EAAE,GAAG,KAAKQ,EAAEV,UAAUwD,UAAU,SAASzD,GAAG,IAAIG,EAAEH,EAAEsD,MAAM,UAAU,OAAOnD,EAAEA,EAAE,GAAG,MAAMQ,EAAEV,UAAUyD,UAAU,SAAS1D,GAAG,IAAIG,EAAEH,EAAEsD,MAAM,mBAAmB,IAAInD,EAAE,OAAO,KAAK,IAAI,IAAIC,EAAED,EAAE,GAAGwD,MAAM,KAAKtD,EAAE,GAAGM,EAAE,EAAEA,EAAEP,EAAEe,OAAOR,IAAI,CAAC,IAAIS,EAAEhB,EAAEO,GAAGgD,MAAM,KAAKtD,EAAEe,EAAE,IAAIA,EAAE,GAAG,OAAOf,GAAGM,EAAEV,UAAU2D,OAAO,SAAS5D,GAAG,MAAM,iBAAiBA,EAAEK,EAAEwD,gBAAgB7D,EAAE,aAAaA,GAAGW,EAAEV,UAAU6D,QAAQ,SAAS9D,GAAG,OAAOA,EAAEyB,cAAc,uBAAuBd,EAAEV,UAAU8D,QAAQ,SAAS/D,GAAG,OAAOA,EAAEgE,aAAa,qBAAqBrD,EAAEV,UAAUgE,YAAY,SAASjE,GAAG,IAAIM,KAAK6C,UAAU,OAAOT,QAAQC,QAAQvC,GAAG,GAAGJ,KAAKM,KAAK6C,UAAU,CAAC,IAAIhD,EAAEG,KAAK6C,UAAUnD,GAAG,MAAM,mBAAmBG,GAAGC,EAAE8D,cAAc/D,GAAG,mBAAmBA,EAAEyC,KAAKF,QAAQC,QAAQxC,GAAGyC,MAAK,SAAS5C,GAAG,OAAOA,EAAEmE,WAAUzB,QAAQC,QAAQxC,GAAGuC,QAAQC,QAAQxC,KAAKyC,MAAK,SAAS5C,GAAG,OAAOA,EAAEmE,WAAU,OAAOzB,QAAQC,QAAQvC,IAAIO,EAAEV,UAAUmE,cAAc,SAASpE,GAAG,OAAOM,KAAK8C,YAAYpD,KAAKM,KAAK8C,YAAY,CAACvB,MAAMvB,KAAK8C,YAAYpD,GAAG8B,KAAK9B,GAAG,YAAYM,KAAK8C,YAAY,CAACvB,MAAMvB,KAAK8C,YAAYe,QAAQrC,KAAK,WAAW,KAAK,MAAMnB,EAAEV,UAAUoE,cAAc,SAASrE,GAAG,IAAIG,EAAEG,KAAKsD,OAAO5D,GAAGI,EAAEE,KAAKwD,QAAQ3D,GAAGE,EAAEC,KAAKyD,QAAQ3D,GAAG,MAAM,CAACoC,KAAKrC,EAAEiC,KAAKhC,EAAEkE,KAAKjE,EAAEkE,SAASjE,KAAK2D,YAAY5D,EAAEC,KAAK6C,WAAWvB,WAAWtB,KAAK8D,cAAc/D,EAAEC,KAAK8C,eAAezC,EAAEV,UAAUuE,YAAY,SAASxE,GAAG,MAAM,CAACyE,KAAKzE,EAAE0E,OAAOpE,KAAKmD,UAAUzD,GAAG2E,OAAOrE,KAAK+C,UAAUrD,GAAG4E,OAAOtE,KAAKoD,UAAU1D,GAAG6E,SAASvE,KAAKkD,YAAYxD,KAAW,SAASA,GAAG,SAASG,EAAEA,GAAG,IAAIC,EAAEE,UAAK,IAASH,IAAIA,EAAE,IAAI,IAAIE,EAAEF,EAAEgD,UAAU/B,EAAEjB,EAAEiD,YAAYpD,EAAEkB,KAAKZ,MAAMA,KAAKwE,QAAQ,IAAInE,EAAEN,EAAEe,GAAGd,KAAKyE,YAAY3D,EAAEd,KAAK0E,YAAW,EAAG1E,KAAK2E,SAAS3E,KAAKwE,QAAQN,YAAYvB,OAAOgC,SAASR,MAAMnE,KAAKoB,WAAWpB,KAAKwE,QAAQT,cAAc7C,SAAS0D,WAAU,IAAK5E,KAAK6E,SAAQ,EAAG7E,KAAK8E,SAAQ,EAAG9E,KAAK+E,QAAQ,KAAK/E,KAAKgF,MAAM,IAAIC,IAAIjF,KAAKgF,MAAME,IAAIlF,KAAK2E,SAASR,KAAKnE,KAAKoB,YAAYpB,KAAKoB,WAAW6C,SAAS3B,MAAK,SAAS5C,GAAGI,EAAEqF,KAAK,IAAIzF,EAAEI,EAAEsB,YAAYtB,EAAEqF,KAAK1D,WAAUzB,KAAKoF,UAAUpF,KAAKqF,SAASC,KAAKtF,MAAM2C,OAAO4C,iBAAiB,WAAWvF,KAAKwF,SAASF,KAAKtF,OAAOA,KAAKyF,MAAMvE,SAASwE,iBAAiB,+CAA+C1F,KAAK2F,OAAO3F,KAAKyF,OAAc/F,IAAIG,EAAE+F,UAAUlG,IAAIG,EAAEF,UAAUkG,OAAOC,OAAOpG,GAAGA,EAAEC,YAAYoG,YAAYlG,EAAEA,EAAEF,UAAUgG,OAAO,SAASjG,GAAG,IAAI,IAAIG,EAAE,EAAEC,EAAEJ,EAAEG,EAAEC,EAAEe,OAAOhB,GAAG,EAAEC,EAAED,GAAG0F,iBAAiB,QAAQvF,KAAKoF,YAAYvF,EAAEF,UAAUqG,OAAO,SAAStG,GAAG,IAAI,IAAIG,EAAE,EAAEC,EAAEJ,EAAEG,EAAEC,EAAEe,OAAOhB,GAAG,EAAEC,EAAED,GAAGoG,oBAAoB,QAAQjG,KAAKoF,YAAYvF,EAAEF,UAAU0F,SAAS,SAAS3F,GAAG,IAAIA,EAAEwG,UAAUxG,EAAEyG,QAAQ,CAACzG,EAAE0G,iBAAiB,IAAIvG,IAAIH,EAAE2G,cAAcC,aAAa,oBAAoB5G,EAAE2G,cAAcE,QAAQjF,WAAWtB,KAAKwG,SAAS9G,EAAE2G,cAAclC,KAAKtE,EAAEH,EAAE2G,iBAAiBxG,EAAEF,UAAU6G,SAAS,SAAS9G,EAAEG,EAAEC,GAAG,QAAG,IAASD,IAAIA,GAAE,QAAI,IAASC,IAAIA,EAAE,UAAUE,KAAK+E,QAAQjF,GAAGE,KAAK8E,SAASpF,IAAIM,KAAK2E,SAASR,KAAK,CAAC,IAAIpE,EAAEC,KAAKwE,QAAQN,YAAYxE,GAAGM,KAAK0E,YAAW,EAAG7E,IAAIG,KAAK0E,WAAW1E,KAAKyE,YAAYgC,WAAW5G,GAAGF,UAAUK,KAAK0E,WAAWlD,KAAK3B,GAAGE,EAAEsE,SAASrE,KAAK2E,SAASN,QAAQtE,EAAEqE,QAAQrE,EAAEwE,WAAWvE,KAAK2E,SAASJ,SAAS5B,OAAOgC,SAASR,KAAKzE,GAAGM,KAAK2E,SAAS5E,EAAEC,KAAK0G,iBAAiB7G,EAAEF,UAAU6F,SAAS,WAAWxF,KAAK+E,QAAQ,WAAW/E,KAAK0E,YAAW,EAAG,IAAIhF,EAAEM,KAAKwE,QAAQN,YAAYvB,OAAOgC,SAASR,MAAMnE,KAAK2E,SAASJ,WAAW7E,EAAE6E,WAAWvE,KAAK2E,SAASP,SAAS1E,EAAE0E,QAAQpE,KAAK6E,SAAQ,EAAG7E,KAAK2E,SAASjF,EAAEM,KAAK0G,eAAe1G,KAAK2E,SAASjF,GAAGG,EAAEF,UAAUgH,UAAU,WAAW3G,KAAK6E,SAASlC,OAAOiE,QAAQD,UAAU3G,KAAK2E,SAAS,GAAG3E,KAAK2E,SAASR,OAAOtE,EAAEF,UAAUkH,MAAM,WAAW,IAAI,IAAInH,EAAEM,KAAK,OAAOoC,QAAQC,QAAQwE,MAAMnH,EAAEiF,SAASR,KAAK,CAAC2C,KAAK,cAAcC,OAAO,MAAMC,QAAQ,CAAC,mBAAmB,WAAWC,YAAY,iBAAiB3E,MAAK,SAASzC,GAAG,GAAGA,EAAEqH,QAAQ,KAAKrH,EAAEqH,OAAO,IAAI,OAAOrH,EAAEsH,OAAOxE,OAAOgC,SAASR,KAAKzE,EAAEiF,SAASR,QAAO,MAAMzE,GAAG,OAAO0C,QAAQG,OAAO7C,KAAKG,EAAEF,UAAU+G,YAAY,WAAW,IAAI,IAAIhH,EAAEM,KAAK,SAASH,IAAIH,EAAE0H,aAAa1H,EAAEiH,YAAYjH,EAAEoF,SAAQ,EAAGpF,EAAEgB,KAAK,eAAe,CAAC2G,KAAK,CAACnF,KAAKxC,EAAEyF,KAAK/D,WAAWc,KAAKJ,KAAKpC,EAAEyF,KAAK/D,WAAWU,MAAMiD,QAAQrF,EAAEqF,QAAQJ,SAASjF,EAAEiF,WAAW,IAAI7E,EAAE,CAACiF,QAAQrF,EAAEqF,QAAQ0B,WAAW/G,EAAEgF,YAAY3E,EAAEL,EAAEsF,MAAMsC,IAAI5H,EAAEiF,SAASR,MAAM/B,QAAQC,QAAQ3C,EAAEyF,KAAK3C,KAAK1C,IAAIwC,MAAK,WAAW5C,EAAE0B,WAAW1B,EAAEsF,MAAMuC,IAAI7H,EAAEiF,SAASR,SAAQ/B,QAAQC,QAAQD,QAAQoF,IAAI,CAAC9H,EAAEmH,QAAQnH,EAAEyF,KAAK3C,KAAK1C,MAAMwC,MAAK,SAASzC,GAAGH,EAAE0B,WAAW1B,EAAE8E,QAAQT,cAAclE,EAAE,IAAIH,EAAEsF,MAAME,IAAIxF,EAAEiF,SAASR,KAAKzE,EAAE0B,eAAc,OAAOgB,QAAQC,QAAQtC,GAAGA,EAAEuC,KAAKvC,EAAEuC,KAAKzC,GAAGA,KAAK,MAAMH,GAAG,OAAO0C,QAAQG,OAAO7C,KAAKG,EAAEF,UAAUyH,WAAW,WAAW,IAAI,IAAI1H,EAAEM,KAAK,OAAOoC,QAAQC,QAAQ3C,EAAE0B,WAAW6C,UAAU3B,MAAK,SAASzC,GAAG,OAAOH,EAAE+H,GAAG,IAAI5H,EAAEH,EAAE0B,YAAY1B,EAAE+H,GAAG7F,MAAMlC,EAAEgB,KAAK,cAAc,CAACgH,GAAG,CAACxF,KAAKxC,EAAE+H,GAAGrG,WAAWc,KAAKJ,KAAKpC,EAAE+H,GAAGxG,KAAK0G,kBAAkB5C,QAAQrF,EAAEqF,QAAQJ,SAASjF,EAAEiF,WAAWvC,QAAQC,QAAQ3C,EAAE+H,GAAGtF,KAAK,CAAC4C,QAAQrF,EAAEqF,QAAQ0B,WAAW/G,EAAEgF,cAAcpC,MAAK,WAAW5C,EAAEmF,SAAQ,EAAGnF,EAAEoF,SAAQ,EAAGpF,EAAEsG,OAAOtG,EAAE+F,OAAO/F,EAAE+F,MAAMvE,SAASwE,iBAAiB,+CAA+ChG,EAAEiG,OAAOjG,EAAE+F,OAAO/F,EAAEgB,KAAK,eAAe,CAACgH,GAAG,CAACxF,KAAKxC,EAAE+H,GAAGrG,WAAWc,KAAKJ,KAAKpC,EAAE+H,GAAGxG,KAAK0G,kBAAkBN,KAAK,CAACnF,KAAKxC,EAAEyF,KAAK/D,WAAWc,KAAKJ,KAAKpC,EAAEyF,KAAK/D,WAAWU,MAAMiD,QAAQrF,EAAEqF,QAAQJ,SAASjF,EAAEiF,WAAWjF,EAAEyF,KAAKzF,EAAE+H,GAAG/H,EAAEqF,QAAQ,WAAS,MAAMrF,GAAG,OAAO0C,QAAQG,OAAO7C,KAAjsH,CAAysHG,GAA/sH,IAAktHkB,EAAE,SAASrB,EAAEG,GAAGG,KAAKiB,KAAKvB,EAAEM,KAAKwB,KAAK3B,GAAGkB,EAAEpB,UAAUwC,KAAK,SAASzC,GAAG,IAAIG,EAAEG,KAAKF,EAAEJ,EAAEqF,QAAQhF,EAAEL,EAAE+G,WAAWpG,EAAEL,KAAKiB,KAAK0G,iBAAiB7G,EAAEd,KAAKiB,KAAK2G,kBAAkB,OAAO,IAAIxF,SAAQ,SAAS1C,GAAGK,GAAGM,EAAEwH,aAAa,qBAAqB9H,EAAEyB,MAAMnB,EAAEyH,gBAAgB,sBAAsB/H,EAAEyB,MAAMzB,EAAEgI,IAAIhI,EAAEgI,GAAG,CAACL,GAAGrH,EAAEgH,KAAKvG,EAAEiE,QAAQjF,EAAEkI,KAAKtI,MAAMW,EAAEwH,aAAa,qBAAqBhI,EAAE2B,MAAMnB,EAAEyH,gBAAgB,sBAAsBjI,EAAE2B,MAAM3B,EAAEkI,IAAIlI,EAAEkI,GAAG,CAACL,GAAGrH,EAAEgH,KAAKvG,EAAEiE,QAAQjF,EAAEkI,KAAKtI,SAAQqB,EAAEpB,UAAU6C,KAAK,SAAS9C,GAAG,IAAIG,EAAEG,KAAKF,EAAEJ,EAAEqF,QAAQhF,EAAEL,EAAE+G,WAAWpG,EAAEL,KAAKiB,KAAK2G,kBAAkB,OAAO,IAAIxF,SAAQ,SAAS1C,GAAGK,GAAGM,EAAEwH,aAAa,sBAAsB9H,EAAEyB,MAAMnB,EAAEyH,gBAAgB,qBAAqB/H,EAAEyB,MAAMzB,EAAEkI,KAAKlI,EAAEkI,IAAI,CAACZ,KAAKhH,EAAE0E,QAAQjF,EAAEkI,KAAKtI,MAAMW,EAAEwH,aAAa,sBAAsBhI,EAAE2B,MAAMnB,EAAEyH,gBAAgB,qBAAqBjI,EAAE2B,MAAM3B,EAAEoI,KAAKpI,EAAEoI,IAAI,CAACZ,KAAKhH,EAAE0E,QAAQjF,EAAEkI,KAAKtI,SAAQwI,QAAQC,IAAI,mB","file":"bundle.029cbc8d852c84cd9ea1.js","sourcesContent":["function t(){}t.prototype={on:function(t,e,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var i=this;function n(){i.off(t,n),e.apply(r,arguments)}return n._=e,this.on(t,n,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,n=r.length;i<n;i++)r[i].fn.apply(r[i].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),i=r[t],n=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&n.push(i[o]);return n.length?r[t]=n:delete r[t],this}};var e=t;e.TinyEmitter=t;var r=function(t){this.wrap=document.querySelector(\"[data-router-wrapper]\"),this.properties=t,this.Transition=t.transition?new t.transition.class(this.wrap,t.transition.name):null};r.prototype.setup=function(){this.onEnter&&this.onEnter(),this.onEnterCompleted&&this.onEnterCompleted()},r.prototype.add=function(){this.wrap.insertAdjacentHTML(\"beforeend\",this.properties.view.outerHTML)},r.prototype.update=function(){document.title=this.properties.page.title},r.prototype.show=function(t){var e=this;return new Promise(function(r){try{function i(t){e.onEnterCompleted&&e.onEnterCompleted(),r()}return e.update(),e.onEnter&&e.onEnter(),Promise.resolve(e.Transition?Promise.resolve(e.Transition.show(t)).then(i):i())}catch(t){return Promise.reject(t)}})},r.prototype.hide=function(t){var e=this;return new Promise(function(r){try{function i(t){e.onLeaveCompleted&&e.onLeaveCompleted(),r()}return e.onLeave&&e.onLeave(),Promise.resolve(e.Transition?Promise.resolve(e.Transition.hide(t)).then(i):i())}catch(t){return Promise.reject(t)}})};var i=new window.DOMParser,n=function(t,e){this.renderers=t,this.transitions=e};n.prototype.getOrigin=function(t){var e=t.match(/(https?:\\/\\/[\\w\\-.]+)/);return e?e[1].replace(/https?:\\/\\//,\"\"):null},n.prototype.getPathname=function(t){var e=t.match(/https?:\\/\\/.*?(\\/[\\w_\\-./]+)/);return e?e[1]:\"/\"},n.prototype.getAnchor=function(t){var e=t.match(/(#.*)$/);return e?e[1]:null},n.prototype.getParams=function(t){var e=t.match(/\\?([\\w_\\-.=&]+)/);if(!e)return null;for(var r=e[1].split(\"&\"),i={},n=0;n<r.length;n++){var o=r[n].split(\"=\");i[o[0]]=o[1]}return i},n.prototype.getDOM=function(t){return\"string\"==typeof t?i.parseFromString(t,\"text/html\"):t},n.prototype.getView=function(t){return t.querySelector(\"[data-router-view]\")},n.prototype.getSlug=function(t){return t.getAttribute(\"data-router-view\")},n.prototype.getRenderer=function(t){if(!this.renderers)return Promise.resolve(r);if(t in this.renderers){var e=this.renderers[t];return\"function\"!=typeof e||r.isPrototypeOf(e)?\"function\"==typeof e.then?Promise.resolve(e).then(function(t){return t.default}):Promise.resolve(e):Promise.resolve(e()).then(function(t){return t.default})}return Promise.resolve(r)},n.prototype.getTransition=function(t){return this.transitions?t in this.transitions?{class:this.transitions[t],name:t}:\"default\"in this.transitions?{class:this.transitions.default,name:\"default\"}:null:null},n.prototype.getProperties=function(t){var e=this.getDOM(t),r=this.getView(e),i=this.getSlug(r);return{page:e,view:r,slug:i,renderer:this.getRenderer(i,this.renderers),transition:this.getTransition(i,this.transitions)}},n.prototype.getLocation=function(t){return{href:t,anchor:this.getAnchor(t),origin:this.getOrigin(t),params:this.getParams(t),pathname:this.getPathname(t)}};var o=function(t){function e(e){var r=this;void 0===e&&(e={});var i=e.renderers,o=e.transitions;t.call(this),this.Helpers=new n(i,o),this.Transitions=o,this.Contextual=!1,this.location=this.Helpers.getLocation(window.location.href),this.properties=this.Helpers.getProperties(document.cloneNode(!0)),this.popping=!1,this.running=!1,this.trigger=null,this.cache=new Map,this.cache.set(this.location.href,this.properties),this.properties.renderer.then(function(t){r.From=new t(r.properties),r.From.setup()}),this._navigate=this.navigate.bind(this),window.addEventListener(\"popstate\",this.popState.bind(this)),this.links=document.querySelectorAll(\"a:not([target]):not([data-router-disabled])\"),this.attach(this.links)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.attach=function(t){for(var e=0,r=t;e<r.length;e+=1)r[e].addEventListener(\"click\",this._navigate)},e.prototype.detach=function(t){for(var e=0,r=t;e<r.length;e+=1)r[e].removeEventListener(\"click\",this._navigate)},e.prototype.navigate=function(t){if(!t.metaKey&&!t.ctrlKey){t.preventDefault();var e=!!t.currentTarget.hasAttribute(\"data-transition\")&&t.currentTarget.dataset.transition;this.redirect(t.currentTarget.href,e,t.currentTarget)}},e.prototype.redirect=function(t,e,r){if(void 0===e&&(e=!1),void 0===r&&(r=\"script\"),this.trigger=r,!this.running&&t!==this.location.href){var i=this.Helpers.getLocation(t);this.Contextual=!1,e&&(this.Contextual=this.Transitions.contextual[e].prototype,this.Contextual.name=e),i.origin!==this.location.origin||i.anchor&&i.pathname===this.location.pathname?window.location.href=t:(this.location=i,this.beforeFetch())}},e.prototype.popState=function(){this.trigger=\"popstate\",this.Contextual=!1;var t=this.Helpers.getLocation(window.location.href);this.location.pathname!==t.pathname||!this.location.anchor&&!t.anchor?(this.popping=!0,this.location=t,this.beforeFetch()):this.location=t},e.prototype.pushState=function(){this.popping||window.history.pushState(this.location,\"\",this.location.href)},e.prototype.fetch=function(){try{var t=this;return Promise.resolve(fetch(t.location.href,{mode:\"same-origin\",method:\"GET\",headers:{\"X-Requested-With\":\"Highway\"},credentials:\"same-origin\"})).then(function(e){if(e.status>=200&&e.status<300)return e.text();window.location.href=t.location.href})}catch(t){return Promise.reject(t)}},e.prototype.beforeFetch=function(){try{var t=this;function e(){t.afterFetch()}t.pushState(),t.running=!0,t.emit(\"NAVIGATE_OUT\",{from:{page:t.From.properties.page,view:t.From.properties.view},trigger:t.trigger,location:t.location});var r={trigger:t.trigger,contextual:t.Contextual},i=t.cache.has(t.location.href)?Promise.resolve(t.From.hide(r)).then(function(){t.properties=t.cache.get(t.location.href)}):Promise.resolve(Promise.all([t.fetch(),t.From.hide(r)])).then(function(e){t.properties=t.Helpers.getProperties(e[0]),t.cache.set(t.location.href,t.properties)});return Promise.resolve(i&&i.then?i.then(e):e())}catch(t){return Promise.reject(t)}},e.prototype.afterFetch=function(){try{var t=this;return Promise.resolve(t.properties.renderer).then(function(e){return t.To=new e(t.properties),t.To.add(),t.emit(\"NAVIGATE_IN\",{to:{page:t.To.properties.page,view:t.To.wrap.lastElementChild},trigger:t.trigger,location:t.location}),Promise.resolve(t.To.show({trigger:t.trigger,contextual:t.Contextual})).then(function(){t.popping=!1,t.running=!1,t.detach(t.links),t.links=document.querySelectorAll(\"a:not([target]):not([data-router-disabled])\"),t.attach(t.links),t.emit(\"NAVIGATE_END\",{to:{page:t.To.properties.page,view:t.To.wrap.lastElementChild},from:{page:t.From.properties.page,view:t.From.properties.view},trigger:t.trigger,location:t.location}),t.From=t.To,t.trigger=null})})}catch(t){return Promise.reject(t)}},e}(e),s=function(t,e){this.wrap=t,this.name=e};s.prototype.show=function(t){var e=this,r=t.trigger,i=t.contextual,n=this.wrap.lastElementChild,o=this.wrap.firstElementChild;return new Promise(function(t){i?(n.setAttribute(\"data-transition-in\",i.name),n.removeAttribute(\"data-transition-out\",i.name),i.in&&i.in({to:n,from:o,trigger:r,done:t})):(n.setAttribute(\"data-transition-in\",e.name),n.removeAttribute(\"data-transition-out\",e.name),e.in&&e.in({to:n,from:o,trigger:r,done:t}))})},s.prototype.hide=function(t){var e=this,r=t.trigger,i=t.contextual,n=this.wrap.firstElementChild;return new Promise(function(t){i?(n.setAttribute(\"data-transition-out\",i.name),n.removeAttribute(\"data-transition-in\",i.name),i.out&&i.out({from:n,trigger:r,done:t})):(n.setAttribute(\"data-transition-out\",e.name),n.removeAttribute(\"data-transition-in\",e.name),e.out&&e.out({from:n,trigger:r,done:t}))})},console.log(\"Highway v2.2.0\");export default{Core:o,Helpers:n,Renderer:r,Transition:s};\n//# sourceMappingURL=highway.module.js.map\n"],"sourceRoot":""}